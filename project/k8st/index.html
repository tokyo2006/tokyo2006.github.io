<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="这是一个针对k8s的一个命令行小工具">
<meta name="keywords" content="kubernetes, python, devops, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content="这是一个针对k8s的一个命令行小工具"/>
<meta property="og:title" content="k8st:k8s的命令行小工具 : blog.lkjxblog.site"/>
<meta property="og:site_name" content="blog.lkjxblog.site is Chen Zeng"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://blog.lkjxblog.site/project/k8st/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-03-06"/>
<meta property="article:modified_time" content="2025-03-06"/>



<meta property="article:tag" content="kubernetes">
<meta property="article:tag" content="python">
<meta property="article:tag" content="devops">





<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@rurounikexin">
<meta name="twitter:title" content="k8st:k8s的命令行小工具 : blog.lkjxblog.site">
<meta name="twitter:creator" content="@rurounikexin">
<meta name="twitter:description" content="这是一个针对k8s的一个命令行小工具">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="blog.lkjxblog.site">



    <base href="https://blog.lkjxblog.site/">
    <title>k8st:k8s的命令行小工具 - blog.lkjxblog.site</title>
    <link rel="canonical" href="https://blog.lkjxblog.site/project/k8st/">
    

    <link href='//fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://blog.lkjxblog.site//css/nixon.css">

    <link rel="shortcut icon" href="https://blog.lkjxblog.site//favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://blog.lkjxblog.site//apple-touch-icon.png" />
</head>

<body lang="en" itemscope itemtype="https://schema.org/Article">
<header id="header">
    <figure>
      <a href="https://blog.lkjxblog.site//" border=0 id="logolink"><div class="icon-nixon-home" id="logo"> </div></a>
    </figure>
    <div id="byline">by Chen Zeng</div>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="https://blog.lkjxblog.site//">
                <span class="icon"> <i aria-hidden="true" class="icon-nixon-quill"></i></span>
                <span> blog </span>
            </a>
            </li>
            <li>
            <a href="https://blog.lkjxblog.site//project/">
                <span class="icon"> <i aria-hidden="true" class="icon-nixon-console"></i></span>
                <span> project </span>
            </a>
            </li>
            <li>
            <a href="https://blog.lkjxblog.site//talks/">
                <span class="icon"> <i aria-hidden="true" class="icon-nixon-talk"></i></span>
                <span> talks </span>
            </a>
            </li>
            <li>
            <a href="https://blog.lkjxblog.site//about/">
                <span class="icon"> <i aria-hidden="true" class="icon-nixon-linkedin"></i></span>
                <span> me </span>
            </a>
            </li>
        </ul>

        

    <ul id="social">
	<li id="share">
		<span class="icon icon-bubbles"> </span><span class="title"> share </span>
		<div class="dropdown share">
			<ul class="social">
				<li>
					<a href="https://twitter.com/intent/tweet?status=k8st%3ak8s%e7%9a%84%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b0%8f%e5%b7%a5%e5%85%b7-https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a>
				</li>
				<li>
					<a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a>
				</li>
				<li>
					<a href="https://plus.google.com/share?url=https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a>
				</li>

				<li>
					<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f&title=k8st%3ak8s%e7%9a%84%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b0%8f%e5%b7%a5%e5%85%b7&source=https%3a%2f%2flinkedin.com%2fin%2fdawnzeng" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a>
				</li>

				<li>
					<a href="https://del.icio.us/post?url=https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a>
				</li>
				<li>
					<a href="https://www.reddit.com/submit?url=https%3a%2f%2fblog.lkjxblog.site%2fproject%2fk8st%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a>
				</li>
			</ul>
			<span class="subcount">sharing is caring</span>
		</div>
	</li>
	<li id="follow">
		<span class="icon icon-rocket"> </span><span class="title"> follow </span>
		<div class="dropdown follow">
			<ul class="social">


				<li>
					<a href="https://www.twitter.com/rurounikexin" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a>
				</li>


				<li>
					<a href="https://www.facebook.com/fei.jianxin" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a>
				</li>


				<li>
					<a href="https://www.linkedin.com/in/dawnzeng" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a>
				</li>


				<li>
					<a href="https://github.com/tokyo2006" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a>
				</li>



			</ul>
			<span class="subcount">join 10k+ subscribers &amp; followers</span>
		</div>
	</li>
</ul>

    </nav>
</header>



<section id="main">
	<h1 itemprop="name" id="title">k8st:k8s的命令行小工具</h1>
	<div>
		<article itemprop="articleBody" id="content">
			<pre><code>k8st 是一个简化 Kubernetes 服务操作的命令行工具。
</code></pre>
<h2 id="快速开始">快速开始</h2>
<h3 id="安装">安装</h3>
<p>您可以通过以下两种方式之一安装 k8st：</p>
<ol>
<li>
<p>从源码构建（参见<a href="#%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA">构建指南</a>）</p>
</li>
<li>
<p>直接安装发布包：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 如果没有pipx请先安装</span>
</span></span><span style="display:flex;"><span>pipx install &lt;Release package&gt;
</span></span></code></pre></div></li>
</ol>
<p>下载地址：<a href="https://github.com/tokyo2006/k8st/releases">发布地址</a></p>
<h3 id="基本使用">基本使用</h3>
<blockquote>
<p>如果你不设置<code>--namespace/-n</code>参数的时候默认namespace是<code>default</code></p></blockquote>
<h4 id="ctx">ctx</h4>
<p><code>ctx</code> - Kubernetes上下文切换</p>
<p><strong>用法</strong>:<br>
<code>ctx</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>k8st ctx
</span></span></code></pre></div><hr>
<h4 id="debug">debug</h4>
<p><img src="https://res.cloudinary.com/xinta/image/upload/v1740646891/k8st/debug.gif" alt="debug"></p>
<p><code>debug</code> - 通过工具容器进入指定Pod的指定容器bash环境</p>
<p><strong>用法</strong>:<br>
<code>debug [-i IMAGE]</code></p>
<p><strong>参数</strong>:</p>
<table>
  <thead>
      <tr>
          <th>参数</th>
          <th>短名</th>
          <th>描述</th>
          <th>默认值</th>
          <th>必要</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>--image</code></td>
          <td><code>-i</code></td>
          <td>Image to use for debug container</td>
          <td>tokyo2006/dev-tools:latest</td>
          <td>No</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>k8st -n argocd debug
</span></span></code></pre></div><hr>
<h4 id="exec">exec</h4>
<p><img src="https://res.cloudinary.com/xinta/image/upload/v1740647240/k8st/exec.gif" alt="exec"></p>
<p><code>exec</code> - bash into a pod&rsquo;s container</p>
<p><strong>用法</strong>:<br>
<code>exec</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>k8st -n argocd exec
</span></span></code></pre></div><hr>
<h4 id="copy">copy</h4>
<p><img src="https://res.cloudinary.com/xinta/image/upload/v1740648566/k8st/copy.gif" alt="copy"></p>
<p><code>copy</code> - Copy files from pod</p>
<p><strong>用法</strong>:<br>
<code>copy -l LOCAL_PATH -r REMOTE_PATH</code></p>
<p><strong>参数</strong>:</p>
<table>
  <thead>
      <tr>
          <th>参数</th>
          <th>短名</th>
          <th>描述</th>
          <th>必要</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>--local</code></td>
          <td><code>-l</code></td>
          <td>存储到本地的文件路径</td>
          <td>Yes</td>
      </tr>
      <tr>
          <td><code>--remote</code></td>
          <td><code>-r</code></td>
          <td>容器中的文件路径</td>
          <td>Yes</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>k8st -n argocd copy -l &lt;LOCAL FILE&gt;  -r &lt;REMOTE FILE&gt;
</span></span></code></pre></div><hr>
<h4 id="secret">secret</h4>
<p><img src="https://res.cloudinary.com/xinta/image/upload/v1740647908/k8st/secret.gif" alt="secret"></p>
<p><code>secret</code> - 从secret中获取秘钥明文（仅限于明文秘钥）</p>
<p><strong>用法</strong>:<br>
<code>secret</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>k8st -n argocd secret
</span></span></code></pre></div><hr>
<p>更多命令可以通过help命令查看:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>k8st --help
</span></span></code></pre></div><h2 id="如何构建">如何构建</h2>
<h3 id="环境要求">环境要求</h3>
<ol>
<li>
<p>Python &gt;= 3.12</p>
<p>推荐使用 pyenv 安装 Python：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew update
</span></span><span style="display:flex;"><span>brew install pyenv
</span></span></code></pre></div><p>配置 Zsh：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;export PYENV_ROOT=&#34;$HOME/.pyenv&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;[[ -d $PYENV_ROOT/bin ]] &amp;&amp; export PATH=&#34;$PYENV_ROOT/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;eval &#34;$(pyenv init -)&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span></code></pre></div><p>安装 Python 3.12.4：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd k8st
</span></span><span style="display:flex;"><span>pyenv install 3.12.4
</span></span></code></pre></div></li>
<li>
<p>Poetry 包管理工具</p>
<p>首先安装 pipx：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew install pipx
</span></span><span style="display:flex;"><span>pipx ensurepath
</span></span></code></pre></div><p>可选：允许在全局范围内使用 pipx</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo pipx ensurepath --global
</span></span></code></pre></div><p>然后安装 Poetry：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pipx install poetry
</span></span></code></pre></div></li>
</ol>
<h3 id="构建与运行">构建与运行</h3>
<p>构建项目：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>poetry build
</span></span></code></pre></div><p>运行测试（可选）:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>poetry run pytest
</span></span></code></pre></div><p>运行测试和生成覆盖率报告（可选）:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>poetry run pytest --cov<span style="color:#f92672">=</span>k8st --cov-report<span style="color:#f92672">=</span>html
</span></span></code></pre></div><p>运行工具：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>poetry run k8st --debug help
</span></span></code></pre></div>
		</article>
	</div>
</section>

<aside id="meta">
	<div itemscope itemtype="https://schema.org/SoftwareApplication" id="projectmeta">
		
			<h2 itemprop="name"> k8st </h2>
		
		
			<em itemprop="name"> 这是一个针对k8s的一个命令行小工具 </em><br>
		
		
			<span class="smaller" itemprop="author" itemscope itemtype="https://schema.org/Person">by <span itemprop="name">Chen Zeng</span></span><br>
		
		<br>
		
			<a id="download_link" class="pure-button" href="https://github.com/tokyo2006/k8st/releases/tag/v0.0.9">
			<i class="icon-nixon-cloud-download"></i> Download<span itemprop="softwareVersion"> 0.0.9</span>
		
		<br> <time itemprop="dateModified" datetime="2025-03-06" id="software_date"> 2025-03-06 </time> 
		</a><br>
		
		<meta itemprop="downloadURL" content="https://github.com/tokyo2006/k8st/releases/tag/v0.0.9">
		<meta itemprop="publisher" content="blog.lkjxblog.site">
		<meta itemprop="softwareApplicationCategory" content="UtilitiesApplication">
		<meta itemprop="operatingSystems" content="Windows 7 and above, OSX 10.7 and above, linux">
	</div>

	
<div>
	<section id="datecount">
		<h4 id="date"> Thu Mar 6, 2025 </h4>
		<h5 id="wc"> 600 字数 </h5>
		<h5 id="readtime"> 需要阅读 2 分钟 </h5>
	</section>
	<ul id="categories">
	
		<li><a href="https://blog.lkjxblog.site//topics/development">Development</a> </li>
	
		<li><a href="https://blog.lkjxblog.site//topics/python">Python</a> </li>
	
	</ul>
	<ul id="tags">
	
		<li> <a href="https://blog.lkjxblog.site//tags/kubernetes">kubernetes</a> </li>
	
		<li> <a href="https://blog.lkjxblog.site//tags/python">python</a> </li>
	
		<li> <a href="https://blog.lkjxblog.site//tags/devops">devops</a> </li>
	
	</ul>
</div>

<div>
	<section id="prev">
		&nbsp;<a class="previous" href="https://blog.lkjxblog.site/%E6%9C%AC%E6%96%87%E5%B0%86%E4%BC%9A%E4%BB%8B%E7%BB%8Dpromethus%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"><i class="icon-nixon-arrow-left"></i> Promethus监控数据持久化存储解决方案:Mimir</a><br>
	</section>
	<section id="next">
		&nbsp;<a class="next" href="https://blog.lkjxblog.site/interview/">面试总结 <i class="icon-nixon-arrow-right"></i></a>
	</section>
</div>


</aside>

<meta itemprop="wordCount" content="534">
<meta itemprop="datePublished" content="2025-03-06">
<meta itemprop="url" content="https://blog.lkjxblog.site/project/k8st/">



<div id="outer_ribbon">
	<div id="ribbon">
		<a href="https://github.com/tokyo2006/k8st" rel="me">Fork me on GitHub</a>
	</div>
</div>


<footer>
	<div>
		<p>
			Copyright &copy; 2025
			
			<span itemprop="author" itemscope itemtype="https://schema.org/Person">
				<span itemprop="name">Chen Zeng.</span>
			</span>
			
			<a rel="license" href="https://blog.lkjxblog.site/license/"
				title="Creative Commons Attribution">all rights reserved</a>; Powered by <a
				href="https://gohugo.io">Hugo</a>.
		</p>
	</div>
</footer>
<script type="text/javascript">
	(function () {
		var j = function (a, b) {
			return window.getComputedStyle ? getComputedStyle(a).getPropertyValue(b) : a.currentStyle[b]
		};
		var k = function (a, b, c) {
			if (a.addEventListener) a.addEventListener(b, c, false);
			else a.attachEvent('on' + b, c)
		};
		var l = function (a, b) {
			for (key in b)
				if (b.hasOwnProperty(key)) a[key] = b[key];
			return a
		};
		window.fitText = function (d, e, f) {
			var g = l({
				'minFontSize': -1 / 0,
				'maxFontSize': 1 / 0
			}, f);
			var h = function (a) {
				var b = e || 1;
				var c = function () {
					a.style.fontSize = Math.max(Math.min(a.clientWidth / (b * 10), parseFloat(g
						.maxFontSize)), parseFloat(g.minFontSize)) + 'px'
				};
				c();
				k(window, 'resize', c)
			};
			if (d.length)
				for (var i = 0; i < d.length; i++) h(d[i]);
			else h(d);
			return d
		}
	})();
	fitText(document.getElementById('title'), 1)

</script>

</body>

</html>

